class t{constructor(){this.defaultOptions={duration:3e3,position:"top-right",type:"info",dismissible:!0,pauseOnHover:!0,theme:"light",animation:"slide",closeOnClick:!1},this.container=null,this.toastInstances=new Map,this.stylesInjected=!1,this.init()}init(){this.createContainer(),this.injectStyles()}injectStyles(){if(this.stylesInjected||document.querySelector("#rojeru-toast-styles"))return void(this.stylesInjected=!0);const t=document.createElement("link");t.id="rojeru-toast-styles",t.rel="stylesheet",t.href="https://cdn.jsdelivr.net/npm/rojeru-toast@latest/dist/rojeru-toast.min.css",t.onerror=()=>{console.warn("No se pudieron cargar los estilos CSS desde CDN. Los estilos se inyectar√°n inline."),this.injectInlineStyles()},document.head.appendChild(t),this.stylesInjected=!0}injectInlineStyles(){if(document.querySelector("#rojeru-toast-inline-styles"))return;const t=document.createElement("style");t.id="rojeru-toast-inline-styles",t.textContent="\n            .rojeru-toast-container {\n                position: fixed;\n                z-index: 10000;\n                pointer-events: none;\n                display: flex;\n                flex-direction: column;\n                gap: 12px;\n                max-width: 420px;\n                padding: 20px;\n            }\n            .rojeru-toast-container.top-right { top: 0; right: 0; align-items: flex-end; }\n            .rojeru-toast-container.top-left { top: 0; left: 0; align-items: flex-start; }\n            .rojeru-toast-container.top-center { top: 0; left: 50%; transform: translateX(-50%); align-items: center; }\n            .rojeru-toast-container.bottom-right { bottom: 0; right: 0; align-items: flex-end; }\n            .rojeru-toast-container.bottom-left { bottom: 0; left: 0; align-items: flex-start; }\n            .rojeru-toast-container.bottom-center { bottom: 0; left: 50%; transform: translateX(-50%); align-items: center; }\n            .rojeru-toast {\n                pointer-events: all;\n                padding: 16px 20px;\n                border-radius: 12px;\n                backdrop-filter: blur(10px);\n                -webkit-backdrop-filter: blur(10px);\n                font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n                font-size: 14px;\n                font-weight: 500;\n                line-height: 1.5;\n                max-width: 380px;\n                display: flex;\n                align-items: flex-start;\n                gap: 12px;\n                transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);\n                position: relative;\n                overflow: hidden;\n                border: 1px solid;\n            }\n            .rojeru-toast.rojeru-toast-clickable { cursor: pointer; transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1); }\n            .rojeru-toast.rojeru-toast-clickable:hover { transform: translateY(-2px); box-shadow: 0 12px 40px rgba(0,0,0,0.15); }\n            .rojeru-toast.rojeru-toast-clickable:active { transform: translateY(0); }\n            .rojeru-toast::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 1px; background: linear-gradient(90deg, transparent, currentColor, transparent); opacity: 0.3; }\n            .rojeru-toast.hiding { transform: scale(0.9) translateX(100px); opacity: 0; pointer-events: none; }\n            .rojeru-toast.light { background: rgba(255,255,255,0.95); color: #1a1a1a; border-color: rgba(0,0,0,0.1); box-shadow: 0 8px 32px rgba(0,0,0,0.1), 0 2px 8px rgba(0,0,0,0.05), inset 0 1px 0 rgba(255,255,255,0.8); }\n            .rojeru-toast.light.info { color: #0066CC; } .rojeru-toast.light.success { color: #00A86B; } .rojeru-toast.light.warning { color: #FF6B00; } .rojeru-toast.light.error { color: #FF3B30; } .rojeru-toast.light.loading { color: #666666; }\n            .rojeru-toast.dark { background: rgba(28,28,30,0.95); color: #ffffff; border-color: rgba(255,255,255,0.1); box-shadow: 0 8px 32px rgba(0,0,0,0.3), 0 2px 8px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.1); }\n            .rojeru-toast.dark.info { color: #5AC8FA; } .rojeru-toast.dark.success { color: #30D158; } .rojeru-toast.dark.warning { color: #FF9F0A; } .rojeru-toast.dark.error { color: #FF453A; } .rojeru-toast.dark.loading { color: #8E8E93; }\n            .rojeru-toast.colored { color: white; border: none; box-shadow: 0 8px 32px rgba(0,0,0,0.25), 0 4px 16px rgba(0,0,0,0.15); text-shadow: 0 1px 2px rgba(0,0,0,0.1); }\n            .rojeru-toast.colored.info { background: linear-gradient(135deg, #0055AA, #0077CC); }\n            .rojeru-toast.colored.success { background: linear-gradient(135deg, #008755, #00AA66); }\n            .rojeru-toast.colored.warning { background: linear-gradient(135deg, #CC5500, #EE7700); }\n            .rojeru-toast.colored.error { background: linear-gradient(135deg, #CC2200, #EE4422); }\n            .rojeru-toast-colored::before { background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent); }\n            .rojeru-toast-colored .rojeru-toast-close { background: rgba(255,255,255,0.25); color: white; text-shadow: 0 1px 2px rgba(0,0,0,0.2); }\n            .rojeru-toast-colored .rojeru-toast-close:hover { background: rgba(255,255,255,0.35); }\n            .rojeru-toast-colored .rojeru-toast-progress { background: rgba(255,255,255,0.6); box-shadow: 0 0 8px rgba(255,255,255,0.3); }\n            .rojeru-toast-loading-icon { animation: rojeru-toast-spin 1s linear infinite; }\n            @keyframes rojeru-toast-spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }\n            .rojeru-toast-icon { width: 20px; height: 20px; flex-shrink: 0; margin-top: 1px; }\n            .rojeru-toast-icon svg { width: 100%; height: 100%; display: block; }\n            .rojeru-toast-content { flex: 1; padding-right: 8px; display: flex; flex-direction: column; gap: 2px; }\n            .rojeru-toast-title { font-weight: 600; font-size: 15px; display: block; }\n            .rojeru-toast-message { opacity: 0.95; font-weight: 400; line-height: 1.4; }\n            .rojeru-toast.colored .rojeru-toast-title { opacity: 0.95; font-weight: 700; }\n            .rojeru-toast.colored .rojeru-toast-message { opacity: 0.9; }\n            .rojeru-toast:not(:has(.rojeru-toast-title)) .rojeru-toast-content { gap: 0; }\n            .rojeru-toast:not(:has(.rojeru-toast-title)) .rojeru-toast-message { margin-top: 1px; }\n            .rojeru-toast-close { background: rgba(0,0,0,0.1); border: none; width: 24px; height: 24px; border-radius: 6px; cursor: pointer; opacity: 0.7; display: flex; align-items: center; justify-content: center; transition: all 0.2s ease; flex-shrink: 0; margin-top: -2px; font-size: 16px; font-weight: bold; }\n            .rojeru-toast-close:hover { opacity: 1; background: rgba(0,0,0,0.15); transform: scale(1.1); }\n            .rojeru-toast.dark .rojeru-toast-close { background: rgba(255,255,255,0.15); color: #ffffff; }\n            .rojeru-toast.dark .rojeru-toast-close:hover { background: rgba(255,255,255,0.25); }\n            .rojeru-toast-progress { position: absolute; bottom: 0; left: 0; height: 3px; background: currentColor; opacity: 0.3; width: 100%; transform-origin: left; transform: scaleX(1); }\n            .rojeru-toast.slide { animation: rojeru-toast-slide-in 0.5s cubic-bezier(0.16, 1, 0.3, 1); }\n            .rojeru-toast.fade { animation: rojeru-toast-fade-in 0.4s ease-out; }\n            .rojeru-toast.scale { animation: rojeru-toast-scale-in 0.3s cubic-bezier(0.16, 1, 0.3, 1); }\n            @keyframes rojeru-toast-slide-in { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\n            @keyframes rojeru-toast-slide-in-left { from { transform: translateX(-100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }\n            @keyframes rojeru-toast-fade-in { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }\n            @keyframes rojeru-toast-scale-in { from { opacity: 0; transform: scale(0.8); } to { opacity: 1; transform: scale(1); } }\n            @keyframes rojeru-toast-update { 0% { transform: scale(1); } 50% { transform: scale(1.02); } 100% { transform: scale(1); } }\n            @keyframes rojeru-toast-type-change { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(0.95); opacity: 0.7; } 100% { transform: scale(1); opacity: 1; } }\n            @media (max-width: 768px) {\n                .rojeru-toast-container { max-width: 100vw; padding: 10px; }\n                .rojeru-toast { max-width: calc(100vw - 20px); font-size: 15px; padding: 14px 16px; }\n                .rojeru-toast-container.top-center, .rojeru-toast-container.bottom-center { width: 100%; }\n                .rojeru-toast-icon { width: 18px; height: 18px; }\n            }\n        ",document.head.appendChild(t)}createContainer(){const t=document.querySelector(".rojeru-toast-container");t&&t.remove(),this.container=document.createElement("div"),this.container.className="rojeru-toast-container",document.body.appendChild(this.container)}getIcon(t){const e={info:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/><path d="M12 16V12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><circle cx="12" cy="8" r="1" fill="currentColor"/></svg>',success:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/><path d="M8 12L11 15L16 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',warning:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 9V13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M12 17H12.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M10.29 3.86L1.82 18C1.645 18.302 1.553 18.649 1.553 19C1.553 19.351 1.645 19.698 1.82 20C2.08 20.47 2.591 20.79 3.17 20.79H20.83C21.409 20.79 21.92 20.47 22.18 20C22.355 19.698 22.447 19.351 22.447 19C22.447 18.649 22.355 18.302 22.18 18L13.71 3.86C13.45 3.39 12.939 3.07 12.36 3.07C11.781 3.07 11.27 3.39 11.01 3.86V3.86Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',error:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/><path d="M15 9L9 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M9 9L15 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',loading:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="rojeru-toast-loading-icon"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-dasharray="31.4 31.4" opacity="0.3"/><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-dasharray="15.7 31.4"/></svg>'};return e[t]||e.info}show(t,e,o={}){const r={...this.defaultOptions,...o};void 0===e&&"string"==typeof t&&(e=t,t=null),this.updateContainerPosition(r.position);const n=document.createElement("div");if("loading"===r.type){const t=r.loadingType||"info";n.className=`rojeru-toast ${r.theme} loading ${t} ${r.animation}`}else n.className=`rojeru-toast ${r.theme} ${r.type} ${r.animation}`;const s="loading"===r.type?"loading":r.type,a=this.getIcon(s),i=t&&""!==t;n.innerHTML=`\n            <div class="rojeru-toast-icon">${a}</div>\n            <div class="rojeru-toast-content">\n                ${i?`<span class="rojeru-toast-title">${t}</span>`:""}\n                <span class="rojeru-toast-message">${e}</span>\n            </div>\n            ${r.dismissible&&"loading"!==r.type?'<button class="rojeru-toast-close" aria-label="Cerrar">&times;</button>':""}\n            ${r.duration>0&&"loading"!==r.type?'<div class="rojeru-toast-progress"></div>':""}\n        `,"loading"===r.type&&(r.dismissible=!1,r.closeOnClick=!1),!r.dismissible&&0===r.duration&&r.closeOnClick&&n.classList.add("rojeru-toast-clickable"),this.addSlideAnimation(n,r.position),this.container.appendChild(n);const l="toast-"+Date.now()+"-"+Math.random().toString(36).substr(2,9);n.setAttribute("data-toast-id",l);let c=null;if(r.duration>0&&"loading"!==r.type){const t=n.querySelector(".rojeru-toast-progress");t&&setTimeout(()=>{t.style.transition=`transform ${r.duration}ms linear`,t.style.transform="scaleX(0)"},50),c=setTimeout(()=>{this.hide(n)},r.duration)}if(r.dismissible&&"loading"!==r.type){n.querySelector(".rojeru-toast-close").addEventListener("click",()=>{c&&clearTimeout(c),this.hide(n)})}if(r.closeOnClick&&"loading"!==r.type&&(n.style.cursor="pointer",n.addEventListener("click",t=>{t.target.closest(".rojeru-toast-close")||(c&&clearTimeout(c),this.hide(n))})),r.pauseOnHover&&r.duration>0&&"loading"!==r.type){let t=r.duration,e=Date.now();n.addEventListener("mouseenter",()=>{if(c){clearTimeout(c),c=null;const o=Date.now()-e;t=r.duration-o;const s=n.querySelector(".rojeru-toast-progress");if(s){const t=window.getComputedStyle(s),e=new DOMMatrixReadOnly(t.transform).m11;s.style.transition="none",s.style.transform=`scaleX(${e})`}}}),n.addEventListener("mouseleave",()=>{if(!c&&t>0){e=Date.now();const o=n.querySelector(".rojeru-toast-progress");if(o){const e=window.getComputedStyle(o);new DOMMatrixReadOnly(e.transform).m11;const r=t;o.style.transition=`transform ${r}ms linear`,o.style.transform="scaleX(0)"}c=setTimeout(()=>{this.hide(n)},t)}})}const d={hide:()=>{c&&clearTimeout(c),this.hide(n)},update:(t,e,o={})=>this.updateToast(n,t,e,o),changeType:(t,e=null,o=null)=>this.changeToastType(n,t,e,o),complete:(t=null,e={})=>{if(n.classList.contains("loading")){const o=t||"Proceso completado",r=e.type||"success";return this.changeToastType(n,r,o)}return this},getId:()=>l,element:n};return this.toastInstances.set(l,d),d}updateToast(t,e,o,r={}){if(void 0===o&&"string"==typeof e&&(o=e,e=null),r.type)return void this.changeToastType(t,r.type,o,e);const n=t.querySelector(".rojeru-toast-title"),s=t.querySelector(".rojeru-toast-message");return n&&(e?(n.textContent=e,n.style.display="block"):n.style.display="none"),s&&null!==o&&(s.innerHTML=o),r.theme&&(t.classList.remove("light","dark","colored"),t.classList.add(r.theme)),t.style.animation="none",setTimeout(()=>{t.style.animation="rojeru-toast-update 0.3s ease-out"},10),this.toastInstances.get(t.getAttribute("data-toast-id"))}changeToastType(t,e,o=null,r=null){if(t.classList.remove("info","success","warning","error","loading"),"loading"===e){const e="info";t.classList.add("loading",e)}else t.classList.add(e);const n=t.querySelector(".rojeru-toast-icon");if(n){const t="loading"===e?"loading":e;n.innerHTML=this.getIcon(t)}if("loading"!==e){if(!t.querySelector(".rojeru-toast-close")&&this.defaultOptions.dismissible){const e=document.createElement("button");e.className="rojeru-toast-close",e.setAttribute("aria-label","Cerrar"),e.innerHTML="&times;",e.addEventListener("click",()=>{this.hide(t)}),t.appendChild(e)}const e=t.querySelector(".rojeru-toast-progress");e&&e.remove()}else{const e=t.querySelector(".rojeru-toast-close");e&&e.remove();const o=t.querySelector(".rojeru-toast-progress");o&&o.remove()}if(null!==o){const e=t.querySelector(".rojeru-toast-message");e&&(e.innerHTML=o)}if(null!==r){const e=t.querySelector(".rojeru-toast-title");e&&(r?(e.textContent=r,e.style.display="block"):e.style.display="none")}return t.style.animation="none",setTimeout(()=>{t.style.animation="rojeru-toast-type-change 0.4s ease-out"},10),this.toastInstances.get(t.getAttribute("data-toast-id"))}addSlideAnimation(t,e){const o=e.includes("left");e.includes("top");e.includes("center")?t.style.animation="rojeru-toast-fade-in 0.4s ease-out":o&&(t.style.animation="rojeru-toast-slide-in-left 0.5s cubic-bezier(0.16, 1, 0.3, 1)")}updateContainerPosition(t){this.container.className=`rojeru-toast-container ${t}`}hide(t){if(t&&t.parentNode){const e=t.getAttribute("data-toast-id");this.toastInstances.delete(e),t.classList.add("hiding"),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},400)}}hideById(t){const e=this.toastInstances.get(t);e&&e.hide()}hideLast(){const t=Array.from(this.container.querySelectorAll(".rojeru-toast"));t.length>0&&this.hide(t[t.length-1])}hideByType(t){this.container.querySelectorAll(`.rojeru-toast.${t}`).forEach(t=>{this.hide(t)})}info(t,e={}){return this.show(null,t,{...e,type:"info"})}success(t,e={}){return this.show(null,t,{...e,type:"success"})}warning(t,e={}){return this.show(null,t,{...e,type:"warning"})}error(t,e={}){return this.show(null,t,{...e,type:"error"})}loading(t,e={}){const o=e.loadingType||"info";return this.show(null,t,{...e,type:"loading",loadingType:o,dismissible:!1,duration:0})}withTitle(t,e,o={}){return this.show(t,e,o)}clear(){this.container.querySelectorAll(".rojeru-toast").forEach(t=>{this.hide(t)}),this.toastInstances.clear()}}"undefined"!=typeof window&&(window.RojeruToast=t,window.rojeruToast=new t),"undefined"!=typeof module&&module.exports&&(module.exports=t,module.exports.default=t);export{t as default};
